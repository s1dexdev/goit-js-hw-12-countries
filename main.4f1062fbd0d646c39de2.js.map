{"version":3,"sources":["webpack:///./templates/country-info.hbs","webpack:///./js/fetchCountries.js","webpack:///./js/notification.js","webpack:///./index.js","webpack:///./templates/list-countries.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","fetchCountries","searchQuery","fetch","defaultModules","set","PNotifyMobile","defaults","delay","width","myStack","Stack","modal","dir1","firstpos1","spacing1","push","maxOpen","Infinity","showError","error","title","text","sticker","stack","refs","mainBox","document","querySelector","input","listCountries","country","addEventListener","debounce","this","value","trim","then","json","countries","Array","isArray","isValid","quantity","length","markup","temaplateList","remove","insertAdjacentHTML","createlListMarkup","countryInfo","createMarkup","dataСheck","catch"],"mappings":"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","file":"main.4f1062fbd0d646c39de2.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<article class=\\\"country js-country\\\">\\n    <h1 class=\\\"country-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\n    <div class=\\\"country-box\\\">\\n        <ul class=\\\"list country-list-info\\\">\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Capital:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</li>\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Population:</span> \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</li>\\n            <li class=\\\"country-list-item\\\"><span class=\\\"country-text\\\">Languages:</span>\\n                <ul class=\\\"country-sublist\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":20},\"end\":{\"line\":12,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\n            </li>\\n        </ul>\\n        <img class=\\\"flag-image\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt='Flag of \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"' width=\\\"250px\\\" height=\\\"auto\\\">\\n    </div>\\n</article>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li class=\\\"sublist-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":19,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const fetchCountries = searchQuery => {\n  return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`);\n};\n\nexport default fetchCountries;\n","import { error, defaultModules, Stack } from '@pnotify/core/dist/PNotify.js';\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\nimport { defaults } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\nimport '@pnotify/core/dist/BrightTheme.css';\n\ndefaultModules.set(PNotifyMobile, {});\n\ndefaults.delay = 3500;\ndefaults.width = '380px';\n\nconst myStack = new Stack({\n  modal: false,\n  dir1: 'down',\n  firstpos1: 0,\n  spacing1: 0,\n  push: 'top',\n  maxOpen: Infinity,\n});\n\nconst showMessage = () => {\n  error({\n    title: 'Too many matches found. Please enter a more specific query!',\n    sticker: false,\n    stack: myStack,\n  });\n};\n\nconst showError = () => {\n  error({\n    title: 'Error 404',\n    text: 'Country with this name was not found. Please try again.',\n    sticker: false,\n    stack: myStack,\n  });\n};\n\nexport { showMessage, showError };\n","import debounce from 'lodash.debounce';\nimport temaplateList from './templates/list-countries.hbs';\nimport countryInfo from './templates/country-info.hbs';\nimport fetchCountries from './js/fetchCountries.js';\nimport { showMessage, showError } from './js/notification.js';\nimport './styles.css';\n\nconst refs = {\n  mainBox: document.querySelector('.js-container'),\n  input: document.querySelector('.js-input'),\n  listCountries: null,\n  country: null,\n};\n\nrefs.input.addEventListener('input', debounce(fetchHandler, 500));\n\nfunction fetchHandler() {\n  if (this.value === '') {\n    return;\n  }\n\n  const queryResult = fetchCountries(this.value.trim());\n\n  queryResult\n    .then(data => data.json())\n    .then(countries => dataСheck(countries))\n    .catch(() => showError());\n}\n\nfunction dataСheck(countries) {\n  const result = isValid(countries);\n\n  if (!result) {\n    showError();\n    return;\n  }\n\n  const quantity = countries.length;\n\n  if (quantity > 10) {\n    showMessage();\n  } else if (quantity >= 2 && quantity <= 10) {\n    createlListMarkup(countries);\n  } else if (quantity === 1) {\n    createMarkup(countries);\n  }\n}\n\nfunction createlListMarkup(countries) {\n  const markup = temaplateList(countries);\n\n  if (refs.listCountries !== null) {\n    refs.listCountries.remove();\n    refs.listCountries = null;\n  } else if (refs.country !== null) {\n    refs.country.remove();\n    refs.country = null;\n  }\n\n  refs.mainBox.insertAdjacentHTML('beforeend', markup);\n  refs.listCountries = document.querySelector('.container .js-list');\n}\n\nfunction createMarkup(country) {\n  const markup = countryInfo(country);\n\n  if (refs.country !== null) {\n    refs.country.remove();\n    refs.country = null;\n  } else if (refs.listCountries !== null) {\n    refs.listCountries.remove();\n    refs.listCountries = null;\n  }\n\n  refs.mainBox.insertAdjacentHTML('beforeend', markup);\n  refs.country = document.querySelector('.container .js-country');\n}\n\nfunction isValid(value) {\n  if (Array.isArray(value)) {\n    return true;\n  }\n\n  return false;\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"list-countries-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country-box\\\">\\n    <ul class=\\\"list-countries js-list\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":8},\"end\":{\"line\":5,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}